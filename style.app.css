:root{
  --bg: #f4f6fb;
  --card: #ffffff;
  --text: #1f2937;
  --muted:#6b7280;
  --ring:#e5e7eb;
  --primary:#667eea;
  --success:#10b981;
  --warn:#f59e0b;
  --danger:#ef4444;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,system-ui,Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 800px at -10% -10%, #a5b4fc22, transparent 60%),
    radial-gradient(1000px 600px at 110% 0%, #c4b5fd22, transparent 60%),
    var(--bg);
}

.app{max-width:1100px;margin:0 auto}

.header{
  position:sticky; top:0; z-index:10;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color:#fff;
  padding:20px 16px 12px;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  border-bottom-left-radius:18px; border-bottom-right-radius:18px;
}

.header h1{margin:0 0 4px 0}
.header-top{display:flex; align-items:flex-end; justify-content:space-between; gap:12px; flex-wrap:wrap}
.month-wrap{min-width:220px}
.month-selector{
  width:100%; padding:10px 12px; border:none; border-radius:12px;
  color:#1f2937; font-weight:700;
}

.summary{
  display:grid; gap:10px; margin-top:12px;
  grid-template-columns: repeat( auto-fit, minmax(180px,1fr) );
}
.card{
  background:var(--card); border-radius:16px; padding:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.08);
  color:#111827;
  min-height:84px;
}
.card h3{margin:0 0 6px 0; font-size:14px; color:#374151; font-weight:700}
.card > div{font-weight:800; font-size:20px}

.card.ingresos{ background:linear-gradient(135deg,#10b98122,#10b98111), #fff;}
.card.fijos{ background:linear-gradient(135deg,#ef444422,#ef444411), #fff;}
.card.tarjetas{ background:linear-gradient(135deg,#f59e0b22,#f59e0b11), #fff;}
.card.creditos{ background:linear-gradient(135deg,#3b82f622,#3b82f611), #fff;}
.card.compras{ background:linear-gradient(135deg,#06b6d422,#06b6d411), #fff;}
.card.ahorros{ background:linear-gradient(135deg,#8b5cf622,#8b5cf611), #fff;}
.card.total{ background:linear-gradient(135deg,#11182722,#11182711), #fff;}
.card.libre{ background:linear-gradient(135deg,#10b98122,#60a5fa11), #fff;}

.tabs{display:flex; align-items:center; gap:8px; margin-top:10px}
.tab-nav{
  border:none; background:#ffffff55; color:#fff; font-weight:800;
  height:36px; width:36px; border-radius:10px; cursor:pointer;
}
.tabs-scroll{
  display:flex; gap:6px; overflow-x:auto; scrollbar-width:none; -ms-overflow-style:none;
}
.tabs-scroll::-webkit-scrollbar{display:none}
.tab{
  flex:0 0 auto;
  border:none; cursor:pointer; padding:10px 12px; border-radius:12px;
  background:#ffffffee; color:#1f2937; font-weight:800;
}
.tab.active{ background:#fff; color:var(--primary); box-shadow:0 4px 10px rgba(0,0,0,.12)}

.content{padding:16px}

.section-header{
  display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;
  margin-bottom:10px;
}
.actions-right{display:flex; gap:8px}

.btn{
  border:1px solid var(--ring); background:#fff; color:#111827; padding:10px 14px;
  border-radius:12px; font-weight:700; cursor:pointer;
}
.btn.primary{ background:var(--primary); color:#fff; border-color:transparent }
.btn.success{ background:var(--success); color:#fff; border-color:transparent }
.btn.warn{ background:var(--warn); color:#fff; border-color:transparent }
.btn.danger{ background:var(--danger); color:#fff; border-color:transparent }

.card-block{display:grid; gap:12px}
.item{
  background:#fff; border:1px solid var(--ring); border-radius:14px; padding:12px;
  box-shadow:0 2px 8px rgba(0,0,0,.06); margin-bottom:10px;
  transition:.2s;
}
.item:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.08)}
.item .row{display:flex; justify-content:space-between; align-items:flex-start; gap:8px}
.item .meta{color:var(--muted); font-size:12px; margin-top:4px}

.actions{display:flex; gap:10px; margin-top:10px; flex-wrap:wrap}
.actions a{ text-decoration:none; font-weight:700; color:#1f2937 }
.actions a:hover{text-decoration:underline}

.badge{
  display:inline-block;
  padding:2px 8px;
  font-size:12px;
  border-radius:999px;
  background:#e5e7eb;
  color:#374151;
  margin-left:6px;
  vertical-align:middle;
}
.badge.success{ background:#dcfce7; color:#166534; }
.badge.warn{ background:#fef9c3; color:#854d0e; }

.item.is-paid{
  opacity:.78;
  border-style:dashed;
}

.pill{
  display:inline-flex;align-items:center;gap:6px;
  padding:8px 10px;border-radius:10px;border:1px solid var(--ring);
  background:#fff;text-decoration:none;font-weight:700;color:#2563eb;
}
.pill:hover{ background:#f8fafc; }

.actions .paid{ color:#059669; } /* verde */

/* tablas */
table{width:100%; border-collapse:collapse; font-size:14px}
th,td{border:1px solid #e5e7eb; padding:8px}
thead th{background:#f8fafc; text-align:left}

/* modal */
.modal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,.4); z-index:50;
}
.modal.hidden{display:none}
.modal-content{
  background:#fff; border-radius:16px; width:100%; max-width:520px;
  box-shadow:0 20px 60px rgba(0,0,0,.25); overflow:hidden;
}
.modal-header{display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid var(--ring)}
.modal-body{padding:14px 16px}
.close-btn{border:none; background:transparent; font-size:24px; cursor:pointer}

.field{margin-bottom:12px}
.field label{display:block; font-weight:700; margin-bottom:6px}
.field input{
  width:100%; padding:10px 12px; border:2px solid #e5e7eb; border-radius:10px; font-size:16px;
}
.field input:focus{outline:none; border-color:var(--primary)}

.modal .actions{display:flex; gap:10px; margin-top:8px}
.modal .btn{flex:1}

.toast{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  background:#111827; color:#fff; padding:10px 14px; border-radius:999px; opacity:0;
  transition:.25s; z-index:60
}
.toast.show{opacity:1}

/* responsive */
@media (max-width:768px){
  .summary{ grid-template-columns: repeat(2,1fr); }
}
@media (max-width:480px){
  .summary{ grid-template-columns: 1fr; }
  .tabs{ gap:6px }
  .tab{ padding:8px 10px }
}
